#### kafka
##### kafka 优点
 - 可靠性-分布式，分区，复制，容错的
 - 可扩展性 - 消息传递系统轻松缩放，无需停机
 - 耐用性 - kafka 使用 `分布式提交日志`，这意味着消息会尽可能快地保留在磁盘上，因此它是持久地
 - 新能 - kafka 对于发布和订阅消息都具有高吞吐量, 即使存储了许多TB地消息，它也保持稳定的性能
 
 > kafka非常快，并保持零停机和零数据丢失
 
##### kafka术语
 - Topic(主题) 相当于MySQL中的database
    + 属于特定类别的消息流称为主题。数据存储在主题中
 - Partition(分区) 相当于MySQL中的 table
    + 主题可能有许多分区，因此它可以处理任意数量的数据
 - Partition offset(分区偏移) , 相当于MySQL 中 table的主键id
    + 每个分区消息具有称为 `offset` 的唯一序列标识
 - Replicas of partition(分区备份)
    + 副本只是一个分区的备份。防止数据的丢失
 - Brokers(经纪人) 集群中的一台服务器
    + 假设一个主题有N个分区, 有N个经纪人, 则每个经纪人有一个分区
 - Producers(生产者)
    + 生产者是发送给一个或多个kafka主题的消息的发布者
 - Consumers(消费者)
    +  消费者从经纪人出读取数据
    
##### 发布 - 订阅消息的工作流程
 - 生产者定期向主题发送消息
 - kafka代理存储为该特定主题配置的分区中的所有消息。如果生产者发送两个消息并且有两个分区，kafka将在
    第一分区中存储一个消息，在第二个分区中存储第二个消息
 - 消费者订阅特定主题
    + 一旦消费者订阅主题，kafka 将向消费者提供主题的当前偏移，并且还将偏移保存在 zookeeper 系统中
    + 消费者将定期请求kafka新消息
    + 一旦Kafka收到来自生产者的消息，它将这些消息转发给消费者
    + 消费者将收到消息并进行处理
    + 一旦消息被处理，消费者将向Kafka代理发送确认
    + 一旦kafka收到确认，它将偏移更改为新值，并在 zookeeper 中更新它
    + 以上流程将重复，直到消费者停止请求
    + 消费者可以随时回退/跳到所需的主题偏移量，并阅读所有后续消息
    
##### 
    
